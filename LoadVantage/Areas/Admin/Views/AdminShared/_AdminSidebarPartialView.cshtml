@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using LoadVantage.Areas.Admin.Models.Profile;

@model AdminProfileViewModel


<!-- ======= Sidebar ======= -->

<aside id="sidebar" class="sidebar">

	<ul class="sidebar-nav" id="sidebar-nav">

		<li class="nav-item profile-nav">

			<form method="get" asp-area="Admin" asp-controller="Admin" asp-action="AdminProfile">
				<input type="hidden" name="userId" value="@Model.Id" />
				<button type="submit" class="nav-link collapsed" id="profile-nav">
					<i class="ri-account-pin-box-line"></i>
					<span>Profile</span>
				</button>
			</form>

		</li>
		
		<li class="nav-item loadboard-nav">

			<form method="get" asp-area="Admin" asp-controller="LoadBoardManagement" asp-action="LoadBoardManagement">
				<input type="hidden" name="userId" value="@Model.Id" />
				<button type="submit" class="nav-link collapsed" id="loadboard-nav-admin">
					<i class="bx bxs-dashboard"></i>
					<span>Load Board Management</span>
				</button>
			</form>

		</li>

		<li class="nav-item create-load-nav">

			<form method="get" asp-area="Admin" asp-controller="UserManagement" asp-action="UserManagement">
				<input type="hidden" name="adminId" value="@Model.Id" />
				<button type="submit" class="nav-link collapsed" id="user-management">
					<i class="bx bxs-user"></i>
					<span>User Management</span>
				</button>
			</form>

		</li>


		<li class="nav-item chat-nav">

			<form method="get" asp-area="Admin" asp-controller="AdminChat" asp-action="AdminChatWindow">
				<input type="hidden" name="adminId" value="@Model.Id" />
				<button type="submit" class="nav-link collapsed" id="chat-nav">
					<i class="bx bxs-chat"></i>
					<span>Chat</span>
				</button>
			</form>

		</li>

		
		<li class="nav-item trucks-nav">

			<form method="get" asp-area="Admin" asp-controller="Statistics" asp-action="Statistics">
				<input type="hidden" name="adminId" value="@Model.Id" />
				<button type="submit" class="nav-link collapsed" id="statistics">
					<i class="bi bi-graph-up"></i>
					<span>Statistics</span>
				</button>
			</form>

		</li>


		<!-- End Profile Page Nav -->


	</ul>

</aside>

<!-- End Sidebar-->

<script>

	document.addEventListener("DOMContentLoaded", function () {
		const sidebarButtons = document.querySelectorAll(".sidebar .nav-link");

		const currentPath = window.location.pathname;

		sidebarButtons.forEach(button => {
			const formAction = button.closest("form").getAttribute("action");

			if (formAction === currentPath) {
				button.classList.remove("collapsed");
			}
		});
	});

</script>

